{% include 'header.html' %}
{% include 'navbar.html' %}
<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-4">
            <h1>Create a New Product</h1>
            <form action="/products" method="POST" enctype="multipart/form-data">
                <div class="mb-3">
                    <label for="name" class="form-label">Product Name</label>
                    <input type="text" class="form-control" id="name" name="name" required>
                </div>

                <div class="mb-3">
                    <label for="price" class="form-label">Price</label>
                    <input type="number" class="form-control" id="price" name="price" step="1" required>
                </div>

                <div class="mb-3">
                    <label for="quantity" class="form-label">Quantity</label>
                    <input type="text" class="form-control" id="quantity" name="quantity" required>
                </div>

                <div class="mb-3">
                    <label for="image" class="form-label">Product Image</label>
                    <input type="file" class="form-control" id="product_image" name="product_image" required>
                </div>

                <div class="mb-3">
                    <label for="image-preview" class="form-label">Preview</label>
                    <img id="image-preview" src="#" alt="Image Preview"
                        style="display:none; max-width: 100%; height: auto;">
                </div>

                <button type="submit" class="btn btn-primary">Create Product</button>
            </form>
        </div>
    </div>
</div>
<script>
    // Function to preview the image before submission
    document.getElementById("product_image").addEventListener("change", function (event) {
        var reader = new FileReader();
        reader.onload = function () {
            var preview = document.getElementById("image-preview");
            preview.src = reader.result;
            preview.style.display = "block";  // Display the image preview
        };
        reader.readAsDataURL(event.target.files[0]);
    });
</script>
{% include 'footer.html' %}